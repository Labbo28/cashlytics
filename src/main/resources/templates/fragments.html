<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" th:href="@{/css/main.css}">
	<!-- Font import from Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@1,700&display=swap" rel="stylesheet">
	<!-- Font Awesome for icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>

<body>
	<div th:fragment="siteHeader">
		<header class="homepage-header">

			<!-- Sezione sinistra: logo/navigazione -->
			<div class="container">
				<nav class="main-nav">
					<a th:href="@{/}" class="logo">CashLytics</a>
					<ul class="nav-links">

						<!-- Sezione destra: se l'utente ha effettuato il login -->
						<li th:if="${userDetails}">
							<span class="nav-btn" th:text="${userDetails.username}">utente</span>
						</li>
						<li th:if="${userDetails}">
							<form class="inline-form" th:action="@{/logout}" method="post">
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
								<button class="nav-btn nav-btn-primary" type="submit">Logout</button>
							</form>
						</li>

						<!-- Se l'utente NON ha effettuato il login -->
						<li th:unless="${userDetails}">
							<a th:href="@{/login}" class="nav-btn">Accedi</a>
						</li>
						<li th:unless="${userDetails}">
							<a th:href="@{/register}" class="nav-btn nav-btn-primary">Registrati</a>
						</li>
					</ul>
				</nav>
			</div>
		</header>
	</div>

	<div th:fragment="siteFooter">
		<footer class="main-footer">
			<div class="container">
				<p>2025 CashLytics - Progetto universitario</p>
			</div>
		</footer>
	</div>
</body>

</html>